# distributed_systems_cmc_7
Практическое задание по курсу "Распределенные системы"

1. 16 процессов, находящихся в узлах транспьютерной матрицы размером 4*4, одновременно выдали запрос на вход в критическую секцию.
 
	Реализовать программу, использующую централизованный алгоритм на транспьютерной матрице для прохождения всеми процессами критических секций. Получить временную оценку работы алгоритма. Оценить сколько времени потребуется для прохождения всеми критических секций, если координатор расположен в узле (0,0)?
	
	Время старта равно 100, время передачи байта равно 1 (Ts=100,Tb=1). Процессорные операции, включая чтение из памяти и запись в память, считаются бесконечно быстрыми.
	
2. Доработать MPI-программу, реализованную в рамках курса “Суперкомпьютеры и параллельная обработка данных”. Добавить контрольные точки для продолжения работы программы в случае сбоя. 	Реализовать один из 3-х сценариев работы после сбоя:
      * продолжить работу программы только на “исправных” процессах;
      * вместо процессов, вышедших из строя, создать новые MPI-процессы, которые необходимо использовать для продолжения расчетов;
      * при запуске программы на счет сразу запустить некоторое дополнительное количество MPI-процессов, которые использовать в случае сбоя.
      
## Первое задание
### Компиляция
```
cd task1
mpicc -o a.out main.c
```
### Запуск
```
mpirun -np 16 --oversubscribe a.out
```

##  Второе задание

### Для начала нужно установить библиотеку ulfm
1. Клонируем репозиторий:
```
git clone https://github.com/open-mpi/ompi.git
```
2. Выставляем нужную версию
```
cd ompi
git checkout v5.0.0rc7

```
3. Подкачиваем доп. модули
```
git submodule update --init --recursive
```
4. Устанавливаем все остальное(!ПЕРЕД ЭТИМ УБЕДИТЕСЬ, ЧТО git status ПУСТ!)
```
./autogen.pl
./configure --disable-mca-dso --disable-mpi-fortran --with-prrte=internal --with-pmix=internal --with-ft=ulfm
make -j 8
sudo make install
sudo ldconfig
```
Если вы дошли до последней команды и она завершилась успешно, то дело за малым!
### Компиляция
```
cd task2
mpicc -o task2 task2.c -lm
```
### Запуск
```
mpirun -v -np 8 --enable-recovery --with-ft=ulfm --oversubscribe ./task2
```
